<!DOCTYPE html>
<html lang="es">
<head>
	<title>Apuntes de R</title>	
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	
	
	<meta name="description" content="Portfolio de Roberto Jim√©nez - Geospatial & GIS Analyst">
	<meta name="keywords" content="Programaci√≥n, R, Apuntes">
	<meta name="author" content="Roberto Jim√©nez">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="../styles/social.css">
	<link rel="stylesheet" href="../styles/styles.css">
	
	<link rel="icon" type="image/x-icon" href="../favicon.ico">

		
</head>

	<body>
            
		<div class="cabecera">
			<div class="cabecera2">
			<div class="navbar">
				<ul>
					<li><a href="https://roberer.github.io/">Proyectos</a></li>
					<li><a class="active" href="https://roberer.github.io/tutoriales">Apuntes y tutoriales üó∫Ô∏è</a></li>
					<li><a href="https://roberer.github.io/blog">Blog</a></li>
					<li><a href="https://roberer.github.io/contacto">Contacto</a></li>
					<li style="float:right"><a href="https://twitter.com/roberer_" class="fa fa-twitter"></a></li>
					<li style="float:right"><a href="https://www.linkedin.com/in/robertojl" class="fa fa-linkedin"></a></li>
					<li style="float:right"><a href="https://github.com/roberer" class="fa fa-github"></a></li>
				</ul>
			</div>
	
	
			<div id="myNav" class="overlay">
				<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
				<div class="overlay-content">
					<a href="https://roberer.github.io/">Proyectos</a>
					<a class="active2" href="https://roberer.github.io/tutoriales">Tutoriales</a>
					<a href="https://roberer.github.io/blog">Blog</a>
					<a href="https://roberer.github.io/contacto">Contacto</a>
					<br><br>
					
						<div class="social-mobile">
							<div style="padding-right: 10px;"><a href="https://twitter.com/roberer_" class="fa fa-twitter"></a></div>
							<div style="padding-right: 10px;"><a href="https://www.linkedin.com/in/robertojl" class="fa fa-linkedin"></a></div>
							<div style="padding-right: 10px;"><a href="https://github.com/roberer" class="fa fa-github"></a></div>
						</div>
					
	
	
				</div>
			</div>
	
			<span style="font-size:30px;cursor:pointer" onclick="openNav()">
			<div class="navbar2">
				<div class="bar1"></div>
				<div class="bar2"></div>
				<div class="bar3"></div>
			</div></span>
	
	
			<div class="navbar3">
				<ul>
					<li  onclick="openNav()">&nbsp;<i>/tutoriales</i>üó∫Ô∏è</li>
					<li style="float:right"><span style="font-size:30px;cursor:pointer" onclick="openNav()">
						<div class="navbar2">
							<div class="bar1"></div>
							<div class="bar2"></div>
							<div class="bar3"></div>
						</div>
					</span></li>
					
				</ul>
			</div>
	
			<script>
	
				function openNav() {
					document.getElementById("myNav").style.width = "100%";
					}
	
					function closeNav() {
					document.getElementById("myNav").style.width = "0%";
				}
	
			</script>
	
				<div class="spacer"></div>

				<h1 class="article">Apuntes de R</h1>
				
			<div class="logo">
				<img alt="R" src="https://lh3.googleusercontent.com/pw/AL9nZEVmkrYYHwY2Cf1503K_5W1ZG0ppYFNNwczi7EKfxCpReATYJM1vUafI5wbKZyty9MM27pL2Y4XJujhrOz6r0poK7LqWlIZa8wVO82I7bZwUP3PGbH_tI6pJ-HIWGpz68ZdDe4m3umNtmGGty8bnz3Km=w436-h245-no?authuser=1">
			</div>
	
			
	
			<h2 align="center">Por Roberto Jim√©nez</h2>
			<h3 align="center" style="color:rgb(171, 171, 171)"><i>Geospatial & GIS Analyst</i></h3>
		
			</div>	
		</div>
            
	

			
	
		

	<div class="cuerpo">
		
        <h3>üß∞ Comandos b√°sicos</h3>
<details>
  <summary><strong>Entorno de trabajo</strong></summary><br>

  <p>Obtener informaci√≥n sobre una funci√≥n:</p>


<div><pre class="brush: r; title: ; notranslate">
help(&#39;funci√≥n&#39;)
</pre></div>




<p>Seleccionar directorio de trabajo:</p>


<div><pre class="brush: r; title: ; notranslate">
setwd(&#39;ruta&#39;)
</pre></div>




<p>Obtener directorio de trabajo:</p>


<div><pre class="brush: r; title: ; notranslate">
getwd()
</pre></div>




<p>Obtener ruta de instalaci√≥n de R:</p>


<div><pre class="brush: r; title: ; notranslate">
.libPaths()
</pre></div>




<p>Mostrar lista de archivos del directorio de trabajo:</p>


<div><pre class="brush: r; title: ; notranslate">
list.files()
</pre></div>

 <br></details>

 <details>
  <summary><strong>Funciones estad√≠sticas</strong></summary><br>

  <p class="has-text-align-left">R permite hacer toda clase de operaciones estad√≠sticas con la informaci√≥n que hayamos guardado como objeto mediante el uso de funciones. A continuaci√≥n ten√©is resumidas algunas de las m√°s b√°sicas con las que trabajar:</p>



<p><strong>Sumar </strong>todos los valores que contenga un objeto:</p>


<div><pre class="brush: r; title: ; notranslate">
sum(objeto)
</pre></div>




<p>Obtener el <strong>valor m√°ximo</strong> del objeto:</p>


<div><pre class="brush: r; title: ; notranslate">
max(objeto)
</pre></div>




<p>Obtener el <strong>valor m√≠nimo</strong> del objeto:</p>


<div><pre class="brush: r; title: ; notranslate">
min(objeto)
</pre></div>




<p><strong>Calcular la media</strong> de los valores del objeto:</p>


<div><pre class="brush: r; title: ; notranslate">
mean(objeto)
</pre></div>




<p><strong>Calcular la mediana</strong> de los valores del objeto:</p>


<div><pre class="brush: r; title: ; notranslate">
median(objeto)
</pre></div>




<p><strong>Calcular la desviaci√≥n t√≠pica</strong> de los valores del objeto:</p>


<div><pre class="brush: r; title: ; notranslate">
sd(objeto)

</pre></div>




<p>Generar un<strong> resumen estad√≠stico</strong> del objeto:</p>


<div><pre class="brush: r; title: ; notranslate">
summary(objeto)

</pre></div>




<p><strong>Redondear </strong>el valor o valores de un objeto. Por defecto redondea al entero superior a partir del 0.51 :</p>


<div><pre class="brush: r; title: ; notranslate">
round(objeto)

</pre></div>

 <br></details>

 <details>
  <summary><strong>Gesti√≥n de objetos</strong></summary><br>

  <p class="has-text-align-left">Las siguientes instrucciones sirven para operar a nivel b√°sico con los objetos en R: c√≥mo crearlos, borrarlos u obtener informaci√≥n de ellos.</p>



<p><strong>Crear un objeto</strong> guardando bajo un nombre todo lo que vaya despu√©s del signo &#8216;=&#8217; , desde una funci√≥n a una tabla, un procedimiento, un resultado, shapefiles, etc. :</p>


<div><pre class="brush: r; title: ; notranslate">
nombre_objeto = 
</pre></div>




<p>Obtener un <strong>listado</strong> de los objetos creados:</p>


<div><pre class="brush: r; title: ; notranslate">
ls()
</pre></div>




<p><strong>Borrar </strong>un objeto:</p>


<div><pre class="brush: r; title: ; notranslate">
rm(objeto)
</pre></div>




<p><strong>Borrar </strong>todos los objetos de la sesi√≥n:</p>


<div><pre class="brush: r; title: ; notranslate">
rm(list=ls())
</pre></div>




<p><strong>Liberar memoria</strong> del garbage collector:</p>


<div><pre class="brush: r; title: ; notranslate">
gc()
</pre></div>




<p><strong>Crear un rango</strong>, devolviendo en este caso una lista con todos los valores entre el 1 y el 10. Admite n√∫meros negativos y el intervalo es siempre 1:</p>


<div><pre class="brush: r; title: ; notranslate">
1:10
</pre></div>




<p><strong>Crear un vector</strong>. Los vectores son colecciones de datos del mismo tipo, en este caso n√∫meros enteros:</p>


<div><pre class="brush: r; title: ; notranslate">
c(5, 7, 8)
</pre></div>




<p><strong>Mostrar el tipo de valor</strong> del objeto. Puede ser entero (integer) o decimal (float):</p>


<div><pre class="brush: r; title: ; notranslate">
str(objeto)
</pre></div>


 <br></details>

 <details>
  <summary><strong>Manejo de tablas</strong></summary><br>

  <p class="has-text-align-left">Funciones y argumentos b√°sicos para abrir archivos que contengan tablas, visualizarlas, editarlas y combinarlas.</p>



<p><strong>Abrir tabla</strong> dentro del directorio de trabajo en <strong>archivo .txt</strong> cuyos valores se separan por puntos y mostrando la cabecera:</p>


<div><pre class="brush: r; title: ; notranslate">
read.table(&#39;nombre.txt&#39;, header = TRUE, sep =&#39;.&#39;)
</pre></div>




<p><strong>Abrir tabla</strong> dentro del directorio de trabajo en <strong>archivo .csv</strong> cuyos valores se separan por espacios y sin mostrar la cabecera:</p>


<div><pre class="brush: r; title: ; notranslate">
read.csv(&#39;nombre.csv&#39;, header = FALSE, sep = &#39;,&#39;)
</pre></div>




<p><strong>Argumento</strong> de las funciones read. y write. que indica el <strong>s√≠mbolo</strong> con el que se separan los valores en la tabla que vamos a abrir o guardar:</p>


<div><pre class="brush: r; title: ; notranslate">
sep = &#39;&#39;
sep = &#39;.&#39;
sep = &#39;,&#39;
sep = &#39;/&#39;
</pre></div>




<p><strong>Argumento</strong> de las funciones read. y write. para indicar el <strong>caracter</strong> usado en los decimales de la tabla que vamos a abrir o guardar:</p>


<div><pre class="brush: r; title: ; notranslate">
dec = &#39;,&#39;
dec = &#39;.&#39;
</pre></div>




<p><strong>Guardar</strong> la tabla abierta en un objeto llamado tabla1:</p>


<div><pre class="brush: r; title: ; notranslate">
tabla1 = read.csv(.....
</pre></div>




<p><strong>Visualizar</strong> la tabla guardada en el objeto tabla1:</p>


<div><pre class="brush: r; title: ; notranslate">
tabla1
</pre></div>




<p><strong>Obtener</strong> solo las 5 <strong>primeras filas</strong> de tabla1:</p>


<div><pre class="brush: r; title: ; notranslate">
head(tabla1, 5)
</pre></div>




<p><strong>Obtener</strong> solo las 24 <strong>√∫ltimas filas</strong> de tabla1:</p>


<div><pre class="brush: r; title: ; notranslate">
tail(tabla1, 24)
</pre></div>




<p><strong>Crear o sobrescribir una tabla .txt</strong> en el directorio de trabajo con los valores del objeto tabla1, separ√°ndolos con espacios y mostrando nombres de filas:</p>


<div><pre class="brush: r; title: ; notranslate">
write.table(tabla1, &#39;nombre.txt&#39;, row.names = TRUE, sep = &#39;&#39;)
</pre></div>




<p><strong>Crear o sobrescribir una tabla .csv</strong> en el directorio de trabajo con los valores del objeto tabla1 separ√°ndolos con comas:</p>


<div><pre class="brush: r; title: ; notranslate">
write.csv(tabla1, &#39;nombre.csv&#39;, sep = &#39;,&#39;)
</pre></div>




<p><strong>Seleccionar</strong> <strong>columnas </strong>por su nombre:</p>


<div><pre class="brush: r; title: ; notranslate">
subset(tabla1, select = c(columna1,columna2))
</pre></div>




<p><strong>Seleccionar</strong> <strong>filas</strong> que contengan un valor espec√≠fico en una columna:</p>


<div><pre class="brush: r; title: ; notranslate">
subset(tabla1, columna1 == &#39;Albacete&#39;)
</pre></div>




<p><strong>Seleccionar un valor indicando su posici√≥n</strong> en la tabla. Dejar vac√≠o para seleccionar filas o columnas enteras. Pueden usarse rangos para seleccionar trozos espec√≠ficos:</p>


<div><pre class="brush: r; title: ; notranslate">
tabla1&#91;n¬∫fila,n¬∫columna]
</pre></div>




<p><strong>Seleccionar</strong> <strong>una columna</strong> de tabla1 indicando su nombre:</p>


<div><pre class="brush: r; title: ; notranslate">
tabla1$nombrecolumna
</pre></div>




<p><strong>Guardar columnas</strong> en objetos:</p>


<div><pre class="brush: r; title: ; notranslate">
col1 = tabla1$nombrecolumna1
col2 = tabla1$nombrecolumna2
</pre></div>




<p><strong>Combinar</strong> columnas guardadas en objetos en una nueva tabla:</p>


<div><pre class="brush: r; title: ; notranslate">
cbind(col1,col2) 
</pre></div>




<p><strong>Combinar</strong> <strong>tablas</strong> completas. Deben compartir nombres de columna para que encajen:</p>


<div><pre class="brush: r; title: ; notranslate">
rbind(tabla1,tabla2)
</pre></div>




<p><strong>Renombrar la columna</strong> de la posici√≥n se√±alada:</p>


<div><pre class="brush: r; title: ; notranslate">
colnames(tabla1)&#91;n¬∫columna] = c(‚Äònombre‚Äô)
</pre></div>




<p><strong>Obtener una lista</strong> con los valores de la columna indicada <strong>ordenados</strong> de menor a mayor (por defecto):</p>


<div><pre class="brush: r; title: ; notranslate">
sort(tabla1$nombrecolumna)
</pre></div>




<p><strong>Aplicar una funci√≥n</strong> a todas las filas (sustituir margin por 1) o a todas las columnas (sustituir margin por 2):</p>


<div><pre class="brush: r; title: ; notranslate">
apply(tabla1, margin, funci√≥n)
</pre></div>



 <br></details>

<h3>üìä Crear gr√°ficos</h3>
<details>
  <summary><strong>Puntos</strong></summary><br>

  <p>La funci√≥n plot() sirve para <strong>generar un gr√°fico de puntos</strong> indicando valores a partir de columnas para una √∫nica variable:</p>


<div><pre class="brush: r; title: ; notranslate">
plot(tabla$nombrecolumna)
</pre></div>




<p>A esta funci√≥n se le puede a√±adir los siguientes <strong>argumentos</strong> para modificar su apariencia.</p>



<p>Argumento de la funci√≥n plot() para <strong>cambiar el s√≠mbolo</strong> usado para mostrar los puntos. Sustituir n por alg√∫n n√∫mero:</p>


<div><pre class="brush: r; title: ; notranslate">
pch = n
</pre></div>




<p>Argumento de la funci√≥n plot() en la que n indica el <strong>tama√±o de los puntos</strong>:</p>


<div><pre class="brush: r; title: ; notranslate">
cex = n 
</pre></div>




<p>Argumento de plot() que funciona igual que col, solo que <strong>cambia el fondo</strong> de algunos s√≠mbolos:</p>


<div><pre class="brush: r; title: ; notranslate">
bg = &#39;blue&#39;
</pre></div>


 <br></details>

 <details>
  <summary><strong>L√≠neas</strong></summary><br>

  <p>Funci√≥n para <strong>generar un gr√°fico de l√≠neas</strong> especificando el argumento type como ¬ªl¬ª:</p>


<div><pre class="brush: r; title: ; notranslate">
plot(tabla$nombrecolumna, type = &#39;&#39;l&#39;&#39;)
</pre></div>




<p>A la funci√≥n plot() se le puede a√±adir los siguientes <strong>argumentos</strong> para modificar su apariencia.</p>



<p>Argumento para <strong>cambiar el tipo de l√≠nea:</strong></p>


<div><pre class="brush: r; title: ; notranslate">
lty = n
</pre></div>




<p>Argumento para <strong>cambiar el grosor de la l√≠nea:</strong></p>


<div><pre class="brush: r; title: ; notranslate">
lwd = n
</pre></div>


 <br></details>

 <details>
  <summary><strong>Barras</strong></summary><br>

  <p>Funci√≥n para <strong>generar un histograma</strong> o gr√°fico de barras para una columna de una tabla:</p>


<div><pre class="brush: r; title: ; notranslate">
hist(tabla$columna)
</pre></div>




<p><strong>N√∫mero de cortes</strong> o barras que tendr√° el histograma:</p>


<div><pre class="brush: r; title: ; notranslate">
breaks = n
</pre></div>




<p>Argumento de la funci√≥n hist() para<strong> establecer el color del borde de las barras</strong>. Funciona con nombres (en ingl√©s), n√∫meros o <a rel="noreferrer noopener" href="https://color.adobe.com/es/create/color-wheel" target="_blank">c√≥digos RGB</a>:</p>


<div><pre class="brush: r; title: ; notranslate">
border = &#39;red&#39;
border = n
border = #DBD361
</pre></div>


 <br></details>

 <details>
  <summary><strong>Dispersi√≥n</strong></summary><br>

  <p>Funci√≥n para <strong>generar un gr√°fico de dispersi√≥n</strong> a partir de dos variables distintas:</p>


<div><pre class="brush: r; title: ; notranslate">
plot(tabla$nombrecolumnaX, tabla$nombrecolumnaY)
</pre></div>




<p><strong>Crear la recta de regresi√≥n</strong> del gr√°fico de dispersi√≥n:</p>


<div><pre class="brush: r; title: ; notranslate">
abline(lm(tabla$columna~tabla$columna))
</pre></div>


 <br></details>

  <details>
  <summary><strong>Dar formato</strong></summary><br>

  <p>En este apartado dejo una recopilaci√≥n de argumentos que pod√©is usar para cambiar el aspecto de los gr√°ficos anteriores.</p>



<p>Argumentos de la funci√≥n plot() para <strong>establecer l√≠mites en los ejes</strong> <strong>del gr√°fico</strong>. n y z ser√≠an sustituidos por los valores l√≠mite.</p>


<div><pre class="brush: r; title: ; notranslate">
xlim = c(n, z)
ylim = c(n, z)
</pre></div>




<p>Argumento de la funci√≥n plot() para <strong>establecer el color de los puntos, las l√≠neas o las barras</strong>. Funciona con nombres (en ingl√©s), n√∫meros o <a rel="noreferrer noopener" href="https://color.adobe.com/es/create/color-wheel" target="_blank">c√≥digos RGB</a></p>


<div><pre class="brush: r; title: ; notranslate">
col = &#39;red&#39;
col = n
col = #DBD361
</pre></div>




<p>Argumentos de plot() para <strong>a√±adir t√≠tulo al gr√°fico y nombres a los ejes</strong>:</p>


<div><pre class="brush: r; title: ; notranslate">
main = &#39;t√≠tulo&#39;
xlab = &#39;texto&#39;
ylab = &#39;texto&#39;
</pre></div>




<p>Funci√≥n para <strong>a√±adir series de datos adicionales</strong> a un gr√°fico creado con plot() . Puede cambiarse su apariencia usando sus mismos argumentos (seg√∫n sea l√≠nea, punto o barra):</p>


<div><pre class="brush: r; title: ; notranslate">
points(tabla$nombrecolumna)
lines(tabla$nombrecolumna)
</pre></div>




<p>Funci√≥n para <strong>agregar leyenda al gr√°fico</strong>. La posici√≥n se indica con t√©rminos ingleses como ¬ªtopleft¬ª (arriba a a izquierda) y se usa un vector para indicar las series de datos que aparecer√°n representadas:</p>


<div><pre class="brush: r; title: ; notranslate">
legend( &quot;posici√≥n&quot; , legend = c(&quot;Serie 1&quot;, &#39;&#39;Serie 2&#39;&#39;))
</pre></div>




<p>Argumentos de la funci√≥n legend() para <strong>cambiar el color del texto y de los puntos</strong> de la leyenda:</p>


<div><pre class="brush: r; title: ; notranslate">
text.col =
pt.bg =
</pre></div>

 <br></details>

<h3>üåê Librer√≠as geoespaciales</h3>
<details>
  <summary><strong>Importar librer√≠as</strong></summary><br>

  <p>Cargar la <strong>librer√≠a spatial</strong>:</p>



<pre><code>library(sp)</code></pre>





<p>Cargar la <strong>librer√≠a maptools</strong>:</p>



<pre><code>library(maptools)</code></pre>





<p>Cargar la <strong>librer√≠a raster</strong> para obtener funciones de tratamiento r√°ster:</p>



<pre><code>library(raster)</code></pre>





<p>Cargar la<strong> librer√≠a RColorBrewer</strong>:</p>



<pre><code>library(RColorBrewer)</code></pre>





<p>Cargar la <strong>librer√≠a gridExtra</strong>:</p>



<pre><code>library(gridExtra)</code></pre>





<p>Cargar la <strong>librer√≠a ggplot2</strong> para dise√±ar layouts cartogr√°ficos de forma avanzada:</p>



<pre><code>library(ggplot2)</code></pre>





<p>Cargar la <strong>librer√≠a gstat </strong>que permite hacer an√°lisis como kriging:</p>



<pre><code>library(gstat)</code></pre>





<p>Cargar la <strong>librer√≠a rgdal</strong> o data abstraction library:</p>



<pre><code>library(rgdal)</code></pre>


 <br></details>

  <div style="padding:20px"></div>

		
		</div>
	
	</body>
</html>
